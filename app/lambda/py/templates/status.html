<!doctype html>
            <html>
            <head>
                <meta charset="utf-8">
                <link rel="icon" type="image/svg+xml" href="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0%200%20100%20100'><circle cx='50' cy='50' r='50' fill='%2300A4E3'/><circle cx='50' cy='50' r='34' fill='none' stroke='%23FFFFFF' stroke-width='8' opacity='0.8'/></svg>">
                <title>Service Status</title>
                <style>
                body { font-family: Arial, Helvetica, sans-serif; padding: 20px; }
                .led { display:inline-block; width:14px; height:14px; border-radius:50%; margin-right:8px; }
                .green { background:#2ecc71; }
                .yellow { background:#f1c40f; }
                .red { background:#e74c3c; }
                .row { margin: 8px 0; }
                .muted { color:#666; font-size:0.9em }
                </style>
            </head>
            <body>
                <h1>Service Status</h1>
                <div class="row">__SKILL_HTML__</div>
                <div class="row" id="skill-ask-row">__SKILL_ASK_HTML__</div>
                <div class="row" id="api-row">__API_HTML__</div>
                <script>
                // Poll API and ASK endpoints independently so results appear as they become available
                (function pollApi(){
                    fetch('/status/api').then(r=>r.json()).then(j=>{
                        try{ const apiEl = document.getElementById('api-row'); if(apiEl && j.api_html){ apiEl.innerHTML = j.api_html; } }catch(e){}
                        setTimeout(pollApi, 3000);
                    }).catch(()=>{ setTimeout(pollApi, 5000); });
                })();

                (function pollAsk(){
                    fetch('/status/ask').then(r=>r.json()).then(j=>{
                        try{ const askEl = document.getElementById('skill-ask-row'); if(askEl && j.skill_ask_html){ askEl.innerHTML = j.skill_ask_html; } }catch(e){}
                        // Ask checks are slower; poll less frequently
                        setTimeout(pollAsk, 5000);
                    }).catch(()=>{ setTimeout(pollAsk, 10000); });
                })();
                </script>
            </body>
            </html>
